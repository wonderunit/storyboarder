<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./css/fonts.css">
    <link rel="stylesheet" href="./css/preferences.css">
    <title>Preferences</title>
  </head>
  <body class="preferences-window">
    <div class="preferences-form">
      <h1 class="preferences-title" id="preferences-title">Preferences</h1>
      <div class="preferences-hint" id="restart-hint" style="margin: 0 0 48px">
        Please restart Storyboarder to apply changes.
      </div>

      <div class="preferences-fieldset">
        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableTooltips"
            id="enableTooltips" />

          <label for="enableTooltips" id="show-tooltips">
            <span></span>Show Tooltips
          </label>
        </div>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableAutoSave"
            id="enableAutoSave" />

          <label for="enableAutoSave" id="save-automatically">
            <span></span>Save Project Data Automatically
          </label>
          <div class="preferences-hint" id="saving-hint">
            When disabled, use "File > Save" to save project data. Note that changes to image data are always saved automatically.
          </div>
        </div>

        <!-- <div class="preferences-input">
          <input
            type="checkbox"
            name="enableAnalytics"
            id="enableAnalytics" />

          <label for="enableAnalytics">
            <span></span>Enable Google Analytics
          </label>
        </div> -->

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableForcePsdReloadOnFocus"
            id="enableForcePsdReloadOnFocus" />

          <label for="enableForcePsdReloadOnFocus" id="force-psd-reload">
            <span></span>Force reload of watched PSD when Storyboarder regains focus
          </label>
          <div class="preferences-hint" id="psd-reload-hint">
            Enable if working from a network drive.
            Disable to improve performance when switching between
            Storyboarder and other apps. When disabled, Storyboarder only 
            watches PSD files in the background (which is not supported on all computers).
          </div>
        </div>

        <div class="preferences-input">
          <input
            type="number"
            name="defaultBoardTiming"
            id="defaultBoardTiming" />

          <label for="defaultBoardTiming">
            <span style="font-size: 87.5%; margin-left: 0.5em;" id="default-timing">
              Default Board Timing (in msecs)
            </span>
          </label>
        </div>

        <div class="preferences-input" style="margin-top: 2rem; margin-bottom: 1rem">
          <div style="display:flex">
            <div>
              <a href="#" id="absolutePathToImageEditor_filename" class="button"></a>
              <input
                hidden="true"
                type="text"
                name="absolutePathToImageEditor"
                id="absolutePathToImageEditor" />
            </div>
            <div>
              <label for="absolutePathToImageEditor" class="label-filename" id="external-psd-editor">
                External PSD Editor
              </label>
            </div>
          </div>
          <div class="preferences-hint" id="psd-editor-hint">
            Select an application (e.g.: .exe or .app). By default this will be the application associated in your operating system for opening PSD files.
            To reset to default, cancel the file prompt.
          </div>
        </div>

        <div class="preferences-input">
          <a id="revealKeyMapFile" class="button" href="#">
            <svg class="smallicon"><use xlink:href="./img/symbol-defs.svg#icon-showfile"></use></svg>
            <span id="reveal-keymap-file">
              Reveal Keymap File
            </span>
          </a>
          <div class="preferences-hint" id="reveal-keymap-file-hint">
            You can choose which keys are bound to which Storyboarder commands by editing
            the Keymap JSON file in a source code editor like Atom or VS Code.
          </div>
        </div>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableDiagnostics"
            id="enableDiagnostics" />

          <label for="enableDiagnostics" id="show-diagnostics">
            <span></span>Show Diagnostics
          </label>
          <div class="preferences-hint" id="show-diagnostics-hint">
            Displays how fast Storyboarder is able to run in frames-per-second over time. Useful for troubleshooting.
          </div>
        </div>

        <div class="preferences-input">
          <label for="straightLineDelayInMsecs" id="line-delay">
            Straight Line Delay
          </label>

          <input
            type="range"
            min="0"
            max="1500"
            step="10"
            name="straightLineDelayInMsecs"
            id="straightLineDelayInMsecs"
            />
          <span data-value="straightLineDelayInMsecs" style="font-size: 87.5%;">
            ---
          </span>

          <div class="preferences-hint" id="line-delay-hint">
            Pause for this long while drawing to switch to straight line mode.<br/>
            Hold <kbd>Shift</kbd> to draw a straight line.<br/>
            Hold <kbd>Alt/Option</kbd> while drawing a straight line to snap angles.
          </div>
        </div>
      </div>

      <div class="preferences-fieldset">
        <h2 class="preferences-subhead" id="notifications">Notifications</h2>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableNotifications"
            id="enableNotifications" />

          <label for="enableNotifications" id="show-notifications">
            <span></span>Enable Notifications
          </label>
        </div>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableAspirationalMessages"
            id="enableAspirationalMessages" />

          <label for="enableAspirationalMessages" id="aspirational-message">
            <span></span>Show Hourly Affirmations
          </label>
        </div>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="allowNotificationsForLineMileage"
            id="allowNotificationsForLineMileage" />

          <label for="allowNotificationsForLineMileage" id="notifications-line-mileage">
            <span></span>Allow Comments on Line Mileage
          </label>
        </div>
      </div>

      <div class="preferences-fieldset">
        <h2 class="preferences-subhead" id="sounds">Sounds</h2>
        <div class="preferences-hint" style="margin: 0 0 24px" id="sounds-hint">
          Sounds might slow down Storyboarder on some computers.<br />
          You can turn them off for better performance.
        </div>
        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableDrawingSoundEffects"
            id="enableDrawingSoundEffects" />

          <label for="enableDrawingSoundEffects" id="drawing-sound-effect">
            <span></span>Drawing Sound Effects
          </label>
        </div>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableDrawingMelodySoundEffects"
            id="enableDrawingMelodySoundEffects" />

          <label for="enableDrawingMelodySoundEffects" id="drawing-melodies">
            <span></span>Drawing Melodies
          </label>
        </div>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableUISoundEffects"
            id="enableUISoundEffects" />

          <label for="enableUISoundEffects" id="ui-sound-effect">
            <span></span>User Interface Sound Effects
          </label>
        </div>

        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableHighQualityAudio"
            id="enableHighQualityAudio" />

          <label for="enableHighQualityAudio" id="enable-high-quality-audio">
            <span></span>Enable High Quality Audio
          </label>
        </div>
      </div>

      <div class="preferences-fieldset">
        <h2 class="preferences-subhead" id="performance-enhancements">Performance Enhancements</h2>
        <div class="preferences-hint" style="margin: 0 0 24px" id="performance-enhancements-hint">
            Disable these if drawing feels slow.
          </div>

          <div class="preferences-input">
            <input
              type="checkbox"
              name="enableHighQualityDrawingEngine"
              id="enableHighQualityDrawingEngine" />

            <label for="enableHighQualityDrawingEngine" id="high-quality-drawing-engine">
              <span></span>High Quality Drawing Engine
            </label>

            <div class="preferences-hint" id="high-quality-drawing-engine-hint">
              When enabled, a higher-quality drawing engine with more advanced brushes is used. When disabled, the (faster) Efficiency Mode drawing engine is used.
            </div>
          </div>

        <!--
        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableCanvasPaintingOpacity"
            id="enableCanvasPaintingOpacity" />

          <label for="enableCanvasPaintingOpacity">
            <span></span>Enable Brush Opacity While Drawing
          </label>
        </div>
        -->

        <!-- TEMPORARILY DISABLED this doesn't do anything right now -->
        <!--
        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableBrushCursor"
            id="enableBrushCursor" />

          <label for="enableBrushCursor">
            <span></span>Enable Brush Cursor While Drawing
          </label>
          <div class="preferences-hint">
            When enabled, brush cursor matches brush tool size. When disabled, the faster system cursor is used.
          </div>
        </div>
        -->

        <!-- DEPRECATED used by old SketchPane -->
        <!--
        <div class="preferences-input">
          <input
            type="checkbox"
            name="enableStabilizer"
            id="enableStabilizer" />

          <label for="enableStabilizer">
            <span></span>Enable Line Smoothing
          </label>
        </div>
        -->
      </div>

      <div class="preferences-fieldset">
        <h2 class="preferences-subhead" id="languages">Languages</h2>
        <div class="preferences-hint" style="margin: 0 0 24px" id="languages-hint">
            Select Storyboard language or create you own 
          </div>

          <div id="preferences-list">
            <div class="dropdown">
              <button class="dropbtn-container"><div class="dropbtn"></div><div class="arrow"/></button>
              <div id="myDropdown" class="dropdown-content"></div>
            </div>
          </div>
          <div class="open-language-editor">
            <button id="open-language-editor">
              Open language editor
            </button>
          </div>
      </div>

      <div id="licensed-container"></div>

      <div id="storyboardersAccount" class="preferences-fieldset">
        <div class="preferences-input">
          <a id="signOut" class="button" href="#">
            <span id="sign-out">
              Sign Out
            </span>
          </a>
          <div class="preferences-hint" id="sign-out-hint">
            You are Signed In to your Storyboarders.com account
          </div>
        </div>
      </div>

    </div>

    <template id="licensed-template">
      <div id="licensed">
        <h2 class="preferences-title" style="font-size: 32px" id="thanks-for-support">Thanks for supporting Storyboarder!</h2>
        <div class="preferences-hint" style="margin-bottom: 2rem">
          <p id="additional-features-for-support">Here are some additional features for supporters.</p>
        </div>

        <div class="preferences-fieldset">
          <div class="preferences-input">
            <input
              type="checkbox"
              name="enableWatermark"
              id="enableWatermark" />

            <label for="enableWatermark" id="add-watermark">
              <span></span>Add watermark to exported images and video.
            </label>
          </div>

          <div class="preferences-input">
            <div style="display:flex">
              <div>
                <a href="#" id="watermarkFile_filename" class="button"></a>
                <input
                  hidden="true"
                  type="text"
                  name="watermarkFile"
                  id="watermarkFile" />
              </div>
              <div>
                <label for="watermarkFile" class="label-filename" id="custom-watermark">
                  Custom watermark image (leave blank for default)
                </label>
              </div>
            </div>

            <div class="preferences-hint">
              Format: PNG, 500 Ã— 232 px
            </div>
          </div>

        </div>
      </div>
    </template>

    <script src="./js/windows/preferences/editor.js"></script>
  </body>
</html>
